name = "invoice-web"
main = "./workers/app.ts"
compatibility_date = "2025-04-04"
compatibility_flags = ["nodejs_compat"]

[observability]
enabled = true

[env.production]

[env.staging]

upload_source_maps = true

[assets]
directory = "./public/"
binding = "ASSETS"

# ============================================
# Cloudflare Bindings (필요 시 주석 해제)
# ============================================

# KV Namespace
# 1. Run: bunx wrangler kv namespace create INVOICE_CACHE
# 2. Copy the ID from output and replace PLACEHOLDER below
# 3. For preview: bunx wrangler kv namespace create INVOICE_CACHE --preview
[[kv_namespaces]]
binding = "INVOICE_CACHE"
id = "PLACEHOLDER_RUN_WRANGLER_KV_CREATE"
preview_id = "PLACEHOLDER_RUN_WRANGLER_KV_CREATE_PREVIEW"

# D1 Database
# bunx wrangler d1 create <NAME> 으로 생성 후 database_id 입력
# [[d1_databases]]
# binding = "DB"
# database_name = "<DATABASE_NAME>"
# database_id = "<DATABASE_ID>"
